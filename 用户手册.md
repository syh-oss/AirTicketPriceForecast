机票价格爬虫预测软件 V1.0 用户手册
 
一、软件概述
 
本软件是一款基于Python开发的机票价格数据爬取与预测工具，支持从指定数据源获取机票基础信息与价格数据，经数据清洗、转换后存储至数据库，再通过机器学习模型实现机票价格预测，适用于个人机票价格趋势分析与研究。
 
二、运行环境要求
 
配置项 推荐规格 
操作系统 Windows 10/11 64位、Ubuntu 20.04+ 
Python版本 3.8~3.11 
依赖库 requests 2.31.0、BeautifulSoup4 4.12.2、Scrapy 2.11.0 Pandas 2.1.4、Scikit-learn 1.3.2、TensorFlow 2.15.0 
数据库 MySQL 8.0（推荐）、SQLite 3.44.0（轻量本地存储） 
硬件 CPU：双核及以上；内存：4GB+；硬盘：10GB可用空间 
 
三、安装步骤
 
1. 克隆/下载软件源码：将项目文件保存至本地指定目录，例如  D:\flight-price-predict 。
2. 安装依赖库：打开命令行终端，进入项目根目录，执行命令：
bash
  
pip install -r requirements.txt
 
3. 配置数据库
- 若使用MySQL：在  config/db_config.py  文件中填写数据库主机、端口、用户名、密码及数据库名，执行  sql/init_db.sql  脚本初始化数据表。
- 若使用SQLite：无需额外配置，软件会自动在项目目录生成  flight_data.db  文件。
4. 配置爬虫参数：编辑  config/spider_config.py ，填写目标数据源地址、爬取间隔时间、请求头信息、代理池地址（可选，用于规避反爬）。
 
四、功能使用指南
 
4.1 数据爬取
 
1. 单次爬取
- 打开命令行终端，进入项目根目录。
- 执行命令：
bash
  
python run_spider.py --one
 
- 软件会按照配置的参数爬取指定航线、日期的机票数据，爬取完成后自动输出爬取结果统计（成功条数、失败条数）。
2. 定时循环爬取
- 执行命令：
bash
  
python run_spider.py --cycle --interval 3600
 
- 参数说明： --interval  后接秒数，代表两次爬取的时间间隔，示例中为1小时爬取一次。
- 如需停止定时爬取，在终端按下  Ctrl + C  即可。
3. 爬取注意事项
- 请勿设置过短的爬取间隔，避免触发目标网站反爬机制导致IP封禁。
- 爬取过程中，日志会实时输出至  logs/spider_log.log  文件，可查看爬取异常信息。
 
4.2 数据处理
 
1. 自动处理：每次爬取完成后，软件会自动调用数据处理模块，完成缺失值填充、异常值过滤、数据格式转换，并将结构化数据写入数据库。
2. 手动触发处理：若需重新处理历史爬取的原始数据，执行命令：
bash
  
python run_processor.py --date 2025-12-18
 
 
- 参数说明： --date  后接指定日期，代表仅处理该日期的原始数据，不填则处理全部原始数据。
3. 数据查询：可通过数据库客户端连接配置的数据库，在  flight_info  表中查看处理后的结构化数据，也可执行  python query_data.py --route 北京-上海  查询指定航线数据。
 
4.3 价格预测
 
1. 单条数据预测
- 执行命令：
bash
  
python run_predictor.py --single --route 北京-上海 --date 2025-12-25 --departure 08:00
 
- 参数说明： --route  填写航线（格式：出发地-目的地）， --date  填写出行日期， --departure  填写出发时间。
- 终端会输出预测价格及置信区间。
2. 批量数据预测
- 准备批量预测数据文件  batch_predict.csv ，格式需包含  route,date,departure  字段。
- 执行命令：
bash
  
python run_predictor.py --batch --file batch